I"¨ <p>Bir yazÄ±lÄ±m projesinde tasarlanan sÄ±nÄ±flar (class) ve yapÄ±lar (struct), bazen benzer gÃ¶revleri yerine getirebilmektedir. BÃ¶yle durumlarda sÄ±nÄ±flarÄ±n hangi gÃ¶revleri yerine getireceÄŸi konusunda karÄ±ÅŸÄ±klÄ±klar ortaya Ã§Ä±kabilmektedir. Single Responsibility Prensibine gÃ¶re bu tarz karmaÅŸanÄ±n Ã¶nÃ¼ne geÃ§mek iÃ§in sÄ±nÄ±flarÄ±n ve yapÄ±larÄ±n iyi tanÄ±mlanmÄ±ÅŸ tek sorumluluÄŸu olmasÄ± gerekmektedir. EÄŸer bir sÄ±nÄ±f birden fazla gÃ¶revin yerine getirilmesinden sorumlu olursa, gelecekte bu sÄ±nÄ±fÄ±n deÄŸiÅŸme ihtimalini de arttÄ±rmaktadÄ±r. Bu da yazÄ±lÄ±m tasarÄ±mÄ±nÄ±n bozulacaÄŸÄ± anlamÄ±na gelmektedir.</p>

<p>Bu Ã§alÄ±ÅŸmada Ã¶ncelikle SRPâ€™ye uygun olmayan basit bir tasarÄ±mla baÅŸlanarak, onu SRPâ€™ye uygun hale getirilmeye Ã§alÄ±ÅŸÄ±lacaktÄ±r. Ã–rnek olarak geometrik ÅŸekillerin Ã§evresini hesaplayan ve bu ÅŸekillerin Ã§evrelerinin toplamÄ±nÄ± ekrana yazdÄ±ran basit bir console uygulamasÄ± yapÄ±lacaktÄ±r. BaÅŸlangÄ±Ã§ olarak Ã¶rneÄŸin UML diyagramÄ± aÅŸaÄŸÄ±daki gibidir;</p>

<p><img src="/images/solid/srp/srp-uml-1.png" alt="Single Responsibility Principle Example UML - 1" /></p>

<p>Åekil 1. Console uygulamasÄ±nÄ±n SRPâ€™den Ã¶nceki halinin UML diyagramÄ±</p>

<p><code class="language-plaintext highlighter-rouge">IShape</code> interfaceâ€™i ve bunu implement eden <code class="language-plaintext highlighter-rouge">Square</code> ve <code class="language-plaintext highlighter-rouge">Rectangle</code> classâ€™larÄ±nÄ±n C# kodlarÄ± aÅŸaÄŸÄ±daki gibidir;</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">interface</span> <span class="nc">IShape</span>
<span class="p">{</span>
    <span class="kt">double</span> <span class="nf">CalcPerimeter</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Square</span> <span class="p">:</span> <span class="n">IShape</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="n">SideLenght</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="kt">double</span> <span class="nf">CalcPerimeter</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="m">4</span> <span class="p">*</span> <span class="n">SideLenght</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Rectangle</span> <span class="p">:</span> <span class="n">IShape</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="kt">double</span> <span class="n">SideALenght</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="n">SideBLenght</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="kt">double</span> <span class="nf">CalcPerimeter</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="m">2</span> <span class="p">*</span> <span class="p">(</span><span class="n">SideALenght</span> <span class="p">+</span> <span class="n">SideBLenght</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Bu sÄ±nÄ±flarÄ± kullanarak iÅŸlem yapan <code class="language-plaintext highlighter-rouge">CalcTotalPerimeter</code> classâ€™Ä±nÄ±n da kodlarÄ± aÅŸaÄŸÄ±daki gibidir;</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">CalcTotalPerimeter</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">IShape</span><span class="p">&gt;</span> <span class="n">shapes</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">double</span> <span class="n">totalPerimeter</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">CalcTotalPerimeter</span><span class="p">(</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">IShape</span><span class="p">&gt;</span> <span class="n">_shapes</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">shapes</span> <span class="p">=</span> <span class="n">_shapes</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Sekillerin toplam cevre uzunlugu</span>
    <span class="k">public</span> <span class="kt">double</span> <span class="nf">TotalPerimeter</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">totalPerimeter</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">shape</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="n">shapes</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">totalPerimeter</span> <span class="p">+=</span> <span class="n">shape</span><span class="p">.</span><span class="nf">CalcPerimeter</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">totalPerimeter</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Sonuclari ekrana yazdir</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">PrintToConsole</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Total Perimeter: "</span> <span class="p">+</span> <span class="n">totalPerimeter</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>YukarÄ±daki kod incelendiÄŸinde ÅŸekillere ait Ã§evreyi hesaplama metodu olan <code class="language-plaintext highlighter-rouge">CalcPerimeter</code>â€™Ä±n Ã§aÄŸÄ±rÄ±ldÄ±ÄŸÄ± ve bu hesaplamalardan dÃ¶nen deÄŸerleri de totalPerimeter deÄŸiÅŸkeninde toplandÄ±ÄŸÄ±nÄ± gÃ¶rÃ¼lmektedir. Son olarak da hesaplanan toplam Ã§evre deÄŸeri <code class="language-plaintext highlighter-rouge">PrintToConsole</code> metodu ile consoleâ€™a yazdÄ±rÄ±lmaktadÄ±r. Ä°lgili kodu test etmek iÃ§in Program classâ€™Ä±ndaki Main metoduna aÅŸaÄŸÄ±daki kodlar eklenir;</p>

<p>Â </p>

<h4 id="solid-kÄ±saltmasÄ±nÄ±-oluÅŸturan-prensipler">SOLID kÄ±saltmasÄ±nÄ± oluÅŸturan prensipler:</h4>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">S</code></strong> - <a href="http://omereryilmaz.com/single-responsibility-principle">Single Responsibility Principle</a> - <code class="language-plaintext highlighter-rouge">Class'larÄ±n iyi tanÄ±mlanmÄ±ÅŸ tek sorumluluklarÄ± olmalÄ±.</code></li>
</ul>

<p>Â 
Â </p>

<h5 id="kaynaklar">Kaynaklar</h5>
<ul>
  <li>[1] The Principles of OOD, http://butunclebob.com/ArticleS.UncleBob.PrinciplesOfOod</li>
  <li>[2] Robert C. Martin and Micah Martin, â€œAgile Principles, Patterns, and Practices in C#â€, 2006.</li>
  <li>[3] Code Maze, https://code-maze.com/solid-principles/</li>
</ul>
:ET