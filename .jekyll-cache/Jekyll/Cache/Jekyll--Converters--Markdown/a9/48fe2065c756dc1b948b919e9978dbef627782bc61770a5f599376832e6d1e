I"„5<p style="text-align:justify;">
	<span style="color:#000000;">
		Bir Ã¶nceki yazÄ±mÄ±zda <a style="color:#000000;" href="/azure-mobile-services-nedir/" target="_blank">Azure Mobil Service (Mobil Hizmet)</a>â€™in ne olduÄŸuna deÄŸinmiÅŸtik. Bu yazÄ±mÄ±zda ise Mobil Hizmetâ€™in oluÅŸturulmasÄ± ve kullanÄ±lmasÄ±nÄ± gÃ¶receÄŸiz.
	</span>
</p>

<p style="text-align:justify;">
	<span style="color:#000000;">
		Ã–ncelikle bu yazÄ±daki Ã¶rneÄŸi uygulamak iÃ§in Microsoft Azure hesabÄ±nÄ±z olmasÄ± gerekmektedir. Burada Mobile Service oluÅŸturup daha sonra da bu servis iÃ§in oluÅŸturulmuÅŸ Ã¶rneÄŸini de Visual Studio ile incelemeye Ã§alÄ±ÅŸacaÄŸÄ±z.
	</span>
</p>

<p style="text-align:justify;">
	<span style="color:#000000;">EÄŸer bir Azure hesabÄ±nÄ±z varsa <a style="color:#000000;" href="https://manage.windowsazure.com">https://manage.windowsazure.com</a> adresinden girip iÅŸleme baÅŸlÄ±yoruz.
	</span>
</p>

<p style="text-align:justify;">
<span style="color:#000000;">KarÅŸÄ±nÄ±za ÅŸekildeki gibi bir ekran Ã§Ä±kacak;</span>
</p>

<p style="text-align:center;">
    <img src="/images/mobilservices1.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Yeni Azure portalÄ±nÄ± kullanmak istiyorsak; <a style="color:#000000;" href="https://portal.azure.com">https://portal.azure.com</a> adresini kullanabiliriz.</span>
</p>

<p style="text-align:center;">
    <img src="/images/mobilservices2.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Her iki portal da ÅŸuan iÃ§in kullanÄ±labilir. Hizmetin baÅŸlatÄ±lmasÄ±na kadar ki kÄ±sÄ±mda ikisini de paralel olarak gÃ¶stermeye Ã§alÄ±ÅŸacaÄŸÄ±m ama daha sonraki aÅŸamalarda bana daha kullanÄ±ÅŸlÄ± geldiÄŸi iÃ§in eski portal Ã¼zerinden devam edeceÄŸim.</span>
</p>

<p style="text-align:justify;">
<span style="color:#000000;">Yeni bir Mobile Service oluÅŸturmak iÃ§in aÅŸaÄŸÄ±daki adÄ±mlarÄ± takip ediyoruz;</span>
</p>

<p style="text-align:justify;">
<span style="color:#000000;">Sol taraftaki menÃ¼den MOBILE SERVICESâ€™i seÃ§ip alt kÄ±sÄ±mdaki toolbarâ€™dan NEW butonuna tÄ±klÄ±yoruz.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices3.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Yeni portalda ise; +Yeni &gt; Web + Mobil &gt; Mobile AppÂ  adÄ±mlarÄ±nÄ± takip ederek aynÄ± iÅŸlemleri gerÃ§ekleÅŸtirebiliriz.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices4.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">AÃ§Ä±lan popup menÃ¼den CREATEâ€™e tÄ±klÄ±yoruz.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices5.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Bu kÄ±sÄ±mda Mobile Serviceâ€™imiz iÃ§in detaylarÄ± belirleyeceÄŸiz. Ben URL kÄ±smÄ±nÄ± â€œomerornekâ€ olarak isimlendirdim. Database olarak da siz 20MB FREE olanÄ±nÄ± kullanabilirsiniz. Ben onu baÅŸka bir Ã¶rneÄŸimde kullandÄ±ÄŸÄ±m iÃ§in burada Ã§Ä±kmamÄ±ÅŸ. O yÃ¼zden baÅŸka yeni bir veritabanÄ± oluÅŸturacaÄŸÄ±m. Region olarak bize en yakÄ±n bÃ¶lge North Europeâ€™Ä± seÃ§iyorum. Backend olarak da arka planda JavaScript â€˜le Ã§alÄ±ÅŸacaÄŸÄ±mÄ± bildiriyorum.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices6.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Bu adÄ±mda veritabanÄ±mÄ±zÄ±n nerede barÄ±nacaÄŸÄ±nÄ± belirliyoruz. Ä°stersek yeni bir server oluÅŸturup onda barÄ±ndÄ±rabiliriz. Benim daha Ã¶nce oluÅŸturÄŸum server olduÄŸu iÃ§in veritabanÄ±m o server Ã¼zerinde barÄ±ndÄ±racaÄŸÄ±mÄ± belirtip OK butonuna tÄ±klÄ±yoruz ve servisimiz oluÅŸturulmaya baÅŸlÄ±yor.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices7.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">OluÅŸturduÄŸumuz Mobil Servisâ€™in durumu hazÄ±r olarak gÃ¼ncelenene kadar bekliyoruz. Bazen bu gÃ¼ncellemede sorun olabiliyor o yÃ¼zden Ã§ok uzun sÃ¼rdÃ¼yse sayfamÄ±zÄ± yenilemekte fayda var.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices8.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Mobile Service â€˜imiz kullanÄ±ma hazÄ±r.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices9.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Ekranda gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ Ã¼zere Ã¼st kÄ±sÄ±mda servisimizi kullanÄ±rken veya uygulumamÄ±zÄ± inÅŸa edereken kullanabileceÄŸimiz Ã¶zellikler (Dashboard, Data, v.s.), aÅŸaÄŸÄ± kÄ±sÄ±mdaki toolbarâ€™da ise seÃ§ilen Ã¶zelliÄŸin eylemleri gerÃ§ekleÅŸtirebileceÄŸimiz butonlar bulunmaktadÄ±r.</span>
</p>
<p><br /></p>
<p style="text-align:justify;">
<strong><span style="color:#000000;">Manage Keys:</span></strong>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices10.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Microsoft Azure Mobile Services, APIâ€™ye eriÅŸimi sÄ±nÄ±rlandÄ±rmak iÃ§in application key ve master key olmak Ã¼zere iki tane anahtar koda sahiptir. Tablolar ve APIâ€™ler sadece bu anahtar kodlara sahip uygulamalarÄ±n isteklerine cevap verir. Ancak bu kodlar ÅŸifrelenmemiÅŸ olduÄŸundan gÃ¼venli olarak gÃ¶rÃ¼lmez. Bu yÃ¼zden bu servislere eriÅŸmeden Ã¶nce kullanÄ±cÄ±larÄ±n kimlik doÄŸrulamasÄ±ndan geÃ§mesi Ã¶nemli bir konudur.</span>
</p>
<p style="text-align:justify;">
<span style="color:#000000;">Master Key, yÃ¶netici eriÅŸimi iÃ§in kullanÄ±lÄ±r ve bu key daÄŸÄ±tÄ±lan uygulamalarda kullanÄ±lmamalÄ±dÄ±r.</span>
</p>
<p style="text-align:justify;">
<span style="color:#000000;">Herhangi bir sorunda veya gÃ¼venlik endiÅŸesinde â€œregenerateâ€ butonuna tÄ±klayarak yeni bir key oluÅŸturabiliriz. Ancak bu deÄŸiÅŸiklik bu servise eriÅŸenÂ  diÄŸer uygulamalarÄ±n servise eriÅŸimini engelleyecektir. Bu yÃ¼zden Ã§ok gerekli olmadÄ±kÃ§a deÄŸiÅŸtirilmemelidir. DeÄŸiÅŸtirildiÄŸi taktirde de uygulamalarÄ±mÄ±zdaki anahtar kodlarÄ± gÃ¼ncellememiz gerekmektedir.</span>
</p>
<p><br /></p>

<p><span style="color:#000000;"><strong>Dashboard</strong></span></p>
<p style="text-align:justify;">
<span style="color:#000000;"> Mobil Serviceâ€™imiz ve onunla ilgili depolama birimlerinin anlÄ±k kullanÄ±m durumlarÄ±nÄ± izleyebileceÄŸimiz kÄ±sÄ±mdÄ±r.</span>
</p>
<p style="text-align:justify;">
<span style="color:#000000;">Ã–zelliklerden bazÄ±larÄ±nÄ± kÄ±saca aÃ§Ä±kladÄ±kdan sonra ÅŸimdide Microsoftâ€™un Mobile Service Ã¶rneklerinden birini indirip, onun Ã¼zerinden bir uygulama Ã¼zerinden bu hizmetin nasÄ±l kullanabilineceÄŸini anlamaya Ã§alÄ±ÅŸalÄ±m.</span>
</p>

<p style="text-align:justify;">
<span style="color:#000000;">Hangi platformdaki Ã¶rnek uygulamayla Ã§alÄ±ÅŸacakcaksak onu seÃ§iyoruz.Â Windows &gt; Create a new windows or windows phone app â€˜a tÄ±klÄ±yoruz.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices11.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">UygulamamÄ±z iÃ§in gerekli iÅŸlemler resimde gÃ¶sterilmektedir. UygulamÄ±zÄ± yazÄ±mÄ±zÄ±n baÅŸÄ±nda belirttiÄŸimiz gibi Visual Studio ile aÃ§Ä±p, Ã§alÄ±ÅŸtÄ±racaÄŸÄ±z. Bu yÃ¼zden eÄŸer Visual Studio yoksa ilk adÄ±m olarak onu yÃ¼klemeliyiz. Daha sonra da uygulamÄ±zdaki verilerin kaydedileceÄŸi TodoItem Tablosunu oluÅŸturmak iÃ§in <strong>CREATE</strong> <strong>TODOITEM TABLE</strong> butonuna tÄ±klÄ±yoruz. En son olarak da uygulamamÄ±zÄ±n hangi programlama dilinde olacaÄŸÄ±nÄ± belirledikten sonra <strong>DOWNLOAD</strong> butonuna tÄ±klayÄ±p bizim iÃ§in Ã¶zel hazÄ±rlanmÄ±ÅŸ Ã¶rnek uygulamÄ±zÄ± indiriyoruz.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices12.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Ä°ndirdiÄŸimiz uygulama dosyasÄ±ndaki Solutionâ€™a tÄ±klayÄ±p Visual Studio ile aÃ§Ä±yoruz.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices13.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">UygulamamÄ±zÄ± Visual Studio ile aÃ§tÄ±ktan sonra Solutionâ€™da saÄŸ tÄ±klayÄ±p Build ediyoruz. EÄŸer uygulamamÄ±z iÃ§in gerekli olan eksik veya yÃ¼klenmemiÅŸ Nuget paketleri varsa bu ÅŸekilde tespit edilip yÃ¼klenmesini saÄŸlÄ±yoruz.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices14.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Solutionâ€™dan Windows uygulamasÄ±nÄ± seÃ§ip, Ã§alÄ±ÅŸtÄ±rÄ±yoruz.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices15.png" />
</p>
<p><br /></p>
<p style="text-align:center;">
    <img src="/images/mobilservices16.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Åimdi de ilk kaydÄ±mÄ±zÄ± oluÅŸturup, Azureâ€™daki deÄŸiÅŸiklikleri kontrol edelim.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices17.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Azure &gt; Mobil Servisimizin Ä°smi &gt; Data &gt; Tablomuzun Ä°smi</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices18.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Bu ÅŸekilde Mobile Serviceâ€™imizin gÃ¼zel bir ÅŸekilde Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± gÃ¶rmÃ¼ÅŸ olduk.</span>
</p>
<p style="text-align:justify;">
<span style="color:#000000;">Mobil Servisin birkaÃ§ Ã¶zelliÄŸini gÃ¶rmek adÄ±na indirdiÄŸimiz Ã¶rneÄŸin kaynak kodlarÄ±n bir kÄ±smÄ±nÄ± inceleyecek olursak;</span>
</p>
<p style="text-align:justify;">
<span style="color:#000000;">Ã–rneÄŸimizdeki App.xaml.cs â€˜e baktÄ±ÄŸÄ±mÄ±zda oluÅŸturulan MobileServiceClient nesnesindeki anahtarÄ±n, Azureâ€™da oluÅŸturduÄŸumuz Mobil Servisimizin Manage Keyâ€™deki Application Key ile aynÄ± olduÄŸunu gÃ¶rebiliriz. Zaten daha Ã¶ncede bu Ã¶rneÄŸim bizim iÃ§in Ã¶zel oluÅŸturulduÄŸunu sÃ¶ylemiÅŸtik.</span>
</p>

<p style="text-align:justify;">
<span style="color:#000000;">Datamodel &gt; TodoItem.cs â€˜e bakacak olursak;</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices19.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Buradaki TodoItem sÄ±nÄ±fÄ± mobil servisimiz tarafÄ±ndan kullanÄ±lan veritabanÄ±ndaki tabloyu, iÃ§erisindeki propertyâ€™ler ise kolonlarÄ±mÄ±zÄ± temsil etmektedir. JsonProperty olarak nitelendirilen kÄ±sÄ±mdaki isimler birebir veritabanÄ±mÄ±zdaki tablo kolonlarÄ±nÄ±n ismidir. Bunlar temsil edildikleri sÄ±nÄ±f property isimleri ile aynÄ± olmayabilir ve Azure Mobile Serviceâ€™in temsil edildiÄŸi Entity kesinlikle bir Id â€˜ye sahip olmalÄ±dÄ±r. EÄŸer Id olmaz ise Ã§alÄ±ÅŸmayacaktÄ±r.</span>
</p>

<p style="text-align:justify;">
<span style="color:#000000;">Bu aÅŸamada Azure Mobile Serviceâ€™in mucize diye nitenlendirilebilecek bir Ã¶zelliÄŸine deÄŸinmeye Ã§alÄ±ÅŸacaÄŸÄ±m. YukarÄ±da bahsettiÄŸim TodoItem sÄ±nÄ±fÄ±na yeni bir alan ekleyeceÄŸim.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices20.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">KÄ±rmÄ±zÄ± dikdÃ¶rtgen ile belirtilmiÅŸ alanÄ± ekledim. Daha sonra da veri eklenmesi sÄ±rasÄ±nda varsayÄ±lan deÄŸer gÃ¶ndermesi iÃ§in MainPageâ€™deki InsertTodoItem fonksiyonuna</span>
<span style="color:#000000;"><strong>todoItem.YeniAlan = "yeni alan denemesi";</strong></span>
<span style="color:#000000;">kodunu ekliyoruz.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices21.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">YaptÄ±ÄŸÄ±mÄ±z iÅŸlem tamamen veritabanÄ±mÄ±zdan baÄŸÄ±msÄ±z ve veritabanÄ± tasarÄ±mÄ±na uymayan bir iÅŸlemdir. DolayÄ±sÄ±yla uygulamamÄ±zÄ±n Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda hata vermesi bekleyebiliriz.</span>
</p>

<p style="text-align:justify;">
<span style="color:#000000;">UygulamamÄ±zÄ± Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±mÄ±zda ise hata vermeden Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± gÃ¶rebiliriz.</span>
</p>
<p style="text-align:center;">
    <img src="/images/mobilservices22.png" />
</p>
<p><br /></p>
<p style="text-align:center;">
    <img src="/images/mobilservices23.png" />
</p>
<p><br /></p>

<p><span style="color:#000000;">KÄ±rmÄ±zÄ±yla belirtilen kÄ±sÄ±mda gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ gibi yeni bir kolon oluÅŸturmuÅŸ.</span></p>

<p style="text-align:justify;">
<span style="color:#000000;">Bu Ã¶zellik sayesinde uygulama geliÅŸtirme iÅŸlemi inanÄ±lmaz ÅŸekilde kolaylaÅŸtÄ±rÄ±lmÄ±ÅŸ oluyor. Ã‡Ã¼nkÃ¼ gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ Ã¼zere kodumuzdaki herhangi bir deÄŸiÅŸiklikte daha alt katmanda bulunan veritabanÄ±mÄ±z hatasÄ±z uyum saÄŸlamÄ±ÅŸ ve bizim yerimize arkaplandaki bu ayarlamalarÄ± yapmÄ±ÅŸ oluyor. Biz kendi uygulamamÄ±zla uÄŸraÅŸÄ±rken Microsoft Azure bu iÅŸlemleri bizim yerimize yaparak hem zamandan tasarruf etmemizi hem de sadece uygulamamÄ±za yoÄŸunlaÅŸmamÄ±zÄ± saÄŸlÄ±yor.</span>
</p>

<p style="text-align:justify;">
<span style="color:#000000;">AslÄ±nda bu durum pratikte Ã§ok kullanÄ±ÅŸlÄ± olsa da uygulamamÄ±zÄ±n ileri aÅŸamalarÄ±nda veri kirliliÄŸine neden olabileceÄŸine de deÄŸinmekte fayda var. Ã–rneÄŸin uygulamamÄ±zÄ± geliÅŸtirip market ortamÄ±na koyduÄŸumuz da bu Ã¶zelliÄŸin baÅŸÄ±mÄ±za dert aÃ§masÄ±nÄ± Ã¶nlemek iÃ§in;</span>
</p>

<p style="text-align:center;">
    <img src="/images/mobilservices24.png" />
</p>
<p><br /></p>

<p style="text-align:justify;">
<span style="color:#000000;">Mobile Serviceâ€™imizin Configure kÄ±smÄ±na gelip, â€œ<strong>ENABLE DYNAMIC SCHEMA</strong>â€ Ã¶zelliÄŸini â€œ<strong>OFF</strong>â€ konumuna getirmeliyiz.</span>
</p>
:ET